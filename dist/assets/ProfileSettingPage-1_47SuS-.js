import{r as l,c as n,h as r,f as e,i as q,m as $,j as d,e as c,M as u,A,F as G,y as H,z as J,b as i,D as B}from"./index-jvsXQBcr.js";const K={key:0,class:"loader"},O=e("span",null,null,-1),Q=e("span",null,null,-1),W=[O,Q],X={class:"back-links"},Y=e("i",{class:"iconly-Arrow-Left icli"},null,-1),Z=e("div",{class:"content"},[e("h2",null,"Profile Setting")],-1),ee={class:"user-avtar-section top-space pt-0 px-15"},se=["src"],te={key:1},ae=["src"],oe=e("i",{class:"iconly-Edit-Square icli"},null,-1),le=[oe],ne={class:"detail-form-section px-15"},ie=e("h2",{class:"page-title mb-4"},"Personal Details",-1),re={class:"form-floating mb-4"},de=e("label",{for:"seven"},"email",-1),ce={key:0,class:"text-red"},ue={class:"form-floating mb-4"},pe=e("label",{for:"one"},"Name",-1),me={key:0,class:"text-red"},_e={class:"form-floating mb-4"},fe=e("label",{for:"five"},"Username",-1),ve={key:0,class:"text-red"},he={class:"form-floating mb-4"},ge=e("label",{for:"six"},"Mobile Number",-1),be={key:0,class:"text-red"},we=e("div",{class:"form-floating mb-4"},[e("button",{type:"submit",class:"btn btn-secondary mx-1 text-white"},"update")],-1),ye=e("div",{class:"divider"},null,-1),xe={class:"detail-form-section pt-0 px-15"},ke={class:"form-floating mb-4"},Pe=e("label",{for:"current_password"},"Current Password",-1),Ce=e("a",{class:"change-btn",href:"#"},[e("i",{class:"fa fa-eye"})],-1),De={key:0,class:"text-red"},Ne={class:"form-floating mb-4"},Ve=e("label",{for:"eight"},"New Password",-1),Ue=e("i",{class:"fa fa-eye"},null,-1),Fe=[Ue],Se={key:0,class:"text-red"},Ie={class:"form-floating mb-4"},Me=e("label",{for:"nine"},"Confirm Password",-1),Le=e("a",{class:"change-btn",href:"#"},[e("i",{class:"fa fa-eye"})],-1),ze={key:0,class:"text-red"},Ae=e("div",{class:"form-floating mb-4"},[e("button",{type:"submit",class:"btn btn-secondary mx-1 text-white"}," Change Password ")],-1),Be="https://kebazaar.xyz/",Re={__name:"ProfileSettingPage",setup(Te){const T=H(),{$axios:w}=T.appContext.config.globalProperties,a=l({}),D=l(!0),p=l(""),m=l(""),_=l(""),f=l(""),N=l(""),V=l(""),y=l(""),x=l(""),k=l(""),P=l(""),C=()=>{w.get("profile/profile-settings").then(t=>{p.value=t.data.user.name,m.value=t.data.user.username,_.value=t.data.user.email,f.value=t.data.user.phone,N.value=t.data.user.role,V.value=t.data.user.status,y.value=t.data.user.image,D.value=!1})};C();const v=l(null),U=()=>{v.value.click()},h=l(""),E=t=>{const s=t.target.files[0];y.value=s.name;const g=new FileReader;g.onload=b=>{h.value=b.target.result},g.readAsDataURL(s)},R=()=>{const t=new FormData;t.append("name",p.value),t.append("username",m.value),t.append("email",_.value),t.append("phone",f.value),v.value.files.length>0&&t.append("image",v.value.files[0]),w.post("profile/profile-settings?_method=put",t).then(()=>{C(),B.success("Profile settings updated")}).catch(s=>{s.response.status===422&&(a.value=s.response.data.errors)})},j=()=>{const t=new FormData;t.append("current_password",x.value),t.append("password",k.value),t.append("password_confirmation",P.value),w.post("profile/profile-settings",t).then(()=>{C(),B.success("Password updated")}).catch(s=>{console.log(s),s.response.status===422&&(a.value=s.response.data.errors)})};return(t,s)=>{var b,F,S,I,M,L,z;const g=J("router-link");return i(),n(G,null,[D.value?(i(),n("div",K,W)):r("",!0),e("header",null,[e("div",X,[q(g,{to:{name:"profile"}},{default:$(()=>[Y,Z]),_:1})])]),e("form",{enctype:"multipart/form-data",onSubmit:A(R,["prevent"])},[e("section",ee,[h.value?r("",!0):(i(),n("img",{key:0,src:Be+y.value,class:"img-fluid",onClick:U,alt:""},null,8,se)),e("input",{type:"file",onChange:E,accept:"image/*",style:{display:"none"},ref_key:"fileInput",ref:v},null,544),h.value?(i(),n("div",te,[e("img",{src:h.value,class:"img-fluid",alt:"Selected Image"},null,8,ae)])):r("",!0),e("span",{class:"edit-icon mb-4 mx-3",onClick:U},le),e("h2",null,d(N.value),1),e("h3",null,d(V.value),1)]),e("section",ne,[ie,e("div",re,[c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>_.value=o),id:"seven",placeholder:"Last Name"},null,512),[[u,_.value]]),de,(b=a.value)!=null&&b.email?(i(),n("span",ce,d(a.value.email[0]),1)):r("",!0)]),e("div",ue,[c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>p.value=o),type:"text",class:"form-control",name:"name",id:"one",placeholder:"First Name"},null,512),[[u,p.value]]),pe,(F=a.value)!=null&&F.name?(i(),n("span",me,d(a.value.name[0]),1)):r("",!0)]),e("div",_e,[c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>m.value=o),id:"five",placeholder:"Last Name"},null,512),[[u,m.value]]),fe,(S=a.value)!=null&&S.username?(i(),n("span",ve,d(a.value.username[0]),1)):r("",!0)]),e("div",he,[c(e("input",{type:"number",class:"form-control",id:"six","onUpdate:modelValue":s[3]||(s[3]=o=>f.value=o),placeholder:"Mobile Number"},null,512),[[u,f.value]]),ge,(I=a.value)!=null&&I.phone?(i(),n("span",be,d(a.value.phone[0]),1)):r("",!0)]),we])],32),ye,e("section",xe,[e("form",{onSubmit:A(j,["prevent"])},[e("div",ke,[c(e("input",{type:"password",class:"form-control",id:"current_password","onUpdate:modelValue":s[4]||(s[4]=o=>x.value=o),placeholder:"Current Password"},null,512),[[u,x.value]]),Pe,Ce,(M=a.value)!=null&&M.current_password?(i(),n("span",De,d(a.value.current_password[0]),1)):r("",!0)]),e("div",Ne,[c(e("input",{type:"password",class:"form-control",id:"eight","onUpdate:modelValue":s[5]||(s[5]=o=>k.value=o),placeholder:"New Password"},null,512),[[u,k.value]]),Ve,e("a",{class:"change-btn",onClick:s[6]||(s[6]=(...o)=>t.changeType&&t.changeType(...o)),href:"#"},Fe),(L=a.value)!=null&&L.password?(i(),n("span",Se,d(a.value.password[0]),1)):r("",!0)]),e("div",Ie,[c(e("input",{type:"password",class:"form-control",id:"nine","onUpdate:modelValue":s[7]||(s[7]=o=>P.value=o),placeholder:"confirm Password"},null,512),[[u,P.value]]),Me,Le,(z=a.value)!=null&&z.password_confirmation?(i(),n("span",ze,d(a.value.password_confirmation[0]),1)):r("",!0)]),Ae],32)])],64)}}};export{Re as default};
