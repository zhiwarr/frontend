import{r as p,c as o,h as _,f as t,i as b,m as k,F as l,q as v,y as x,z as C,b as s,j as a,s as f,B as u,C as D,D as B}from"./index-jvsXQBcr.js";const E={key:0,class:"loader"},I=t("span",null,null,-1),V=t("span",null,null,-1),N=[I,V],$={class:"back-links"},A=t("i",{class:"iconly-Arrow-Left icli"},null,-1),F={class:"content"},P=t("div",{class:"header-option"},[t("ul",null,[t("li",null,[t("a",{href:"cart.html"},[t("i",{class:"iconly-Buy icli"})])])])],-1),Q={class:"cart-section pt-0 top-space section-b-space"},R={class:"cart-box px-15"},W={href:"product.html",class:"cart-img"},L=["src"],j={class:"cart-content"},q={href:"product.html"},z={class:"content-color"},M={class:"price"},O={key:0},S={key:0},T={key:1},Y={key:1},G={class:"cart-option"},H=["data-bs-target"],J=t("i",{class:"iconly-Buy icli"},null,-1),K=t("span",{class:"divider-cls"},"|",-1),U=["data-bs-target"],X=t("i",{class:"iconly-Delete icli"},null,-1),Z=t("div",{class:"divider"},null,-1),w=["id"],tt={class:"offcanvas-body small"},et=t("div",{class:"content"},[t("h4",null,"Remove Item:"),t("p",null,"Are you sure you want to remove or move this item from the cart?")],-1),ot={class:"bottom-cart-panel"},st={class:"row"},ct=t("div",{class:"col-7"},[t("button",{"data-bs-toggle":"offcanvas",class:"title-color btn"},"Cancel")],-1),at={class:"col-5"},nt=["onClick"],_t={__name:"WishlistPage",setup(rt){const m=x(),n=p([]),i=p(!0),{$axios:h,$uploads:g}=m.appContext.config.globalProperties,y=async c=>{try{await h.delete(`wishlist/remove-product/${c}`);const r=n.value.findIndex(d=>d.id===c);r!==-1&&n.value.splice(r,1),B.success("wishlist product removed successfully")}catch(r){console.error("Error removing item from wishlist:",r)}};return(async()=>{try{const c=await h.get("wishlists");n.value=c.data.data,i.value=!1}catch(c){console.error("Error fetching wishlist data:",c),i.value=!1}})(),(c,r)=>{const d=C("router-link");return s(),o(l,null,[i.value?(s(),o("div",E,N)):_("",!0),t("header",null,[t("div",$,[b(d,{to:{name:"profile"}},{default:k(()=>[A,t("div",F,[t("h2",null,"Your Wishlist ("+a(n.value.length)+")",1)])]),_:1})]),P]),t("section",Q,[(s(!0),o(l,null,v(n.value,e=>(s(),o(l,{key:e.id},[t("div",R,[t("a",W,[t("img",{src:f(g)+e.product.thumb_image,class:"img-fluid",alt:""},null,8,L)]),t("div",j,[t("a",q,[t("h4",null,a(e.product.name),1)]),t("h5",z,"by "+a(e.product.vendor.shop_name),1),t("div",M,[e.product.offer_price?(s(),o("h4",O,[u(a(e.product.offer_price)+" IQD ",1),e.product.offer_price?(s(),o("del",S,a(e.product.price)+" IQD",1)):_("",!0),e.product.offer_price?(s(),o("span",T," %"+a(f(D)(e.product.price,e.product.offer_price)),1)):_("",!0)])):(s(),o("h4",Y,a(e.product.price)+" IQD",1))]),t("div",G,[t("h5",{"data-bs-toggle":"offcanvas","data-bs-target":"#removecart"+e.id},[J,u(" Add to Cart ")],8,H),K,t("h5",{"data-bs-toggle":"offcanvas","data-bs-target":"#removecart"+e.id},[X,u(" Remove ")],8,U)])])]),Z],64))),128))]),(s(!0),o(l,null,v(n.value,e=>(s(),o("div",{key:"removecart"+e.id,class:"offcanvas offcanvas-bottom h-auto removecart-canvas",id:"removecart"+e.id},[t("div",tt,[et,t("div",ot,[t("div",st,[ct,t("div",at,[t("button",{onClick:it=>y(e.id),class:"btn theme-color"}," REMOVE ",8,nt)])])])])],8,w))),128))],64)}}};export{_t as default};
